document.addEventListener('DOMContentLoaded', () => {
    try{
        let isHash = window.location.hash ? window.location.hash : false;
        console.log(isHash, 'this is hasshhh');
        if(isHash){
            history.replaceState(null, null, ' ');
        }
    }catch (e){
        console.log(e);
    }
    initScroll();

    let findMore = document.getElementById('scroll-to-next');
    try {
        findMore.addEventListener('click', () => {

            let isNotMobile = window.screen.width > 767 ? true : false;
            if (isNotMobile) {
                let selector = document.getElementsByClassName('dots-left')[0];
                let targetSlide = selector.getElementsByTagName('LI')[1];
                let finalTarget = targetSlide.getElementsByTagName('a')[0];
                finalTarget.click();
            } else {
                window.scroll(0, findPos(document.getElementById("second-slide")));
            }
        });
    } catch (e) {

    }

    let scrollToForm = document.getElementsByClassName('js-target-last');
    try {
        [...document.querySelectorAll('.js-target-last')].forEach(function(elem)   {
            elem.addEventListener('click', function ()  {
                let isNotMobile = window.screen.width > 1 ? true : false;
                if (isNotMobile) {
                    let selector = document.getElementsByClassName('dots-left')[0];
                    let targetSlide = selector.getElementsByTagName('LI')[12];
                    let finalTarget = targetSlide.getElementsByTagName('a')[0];
                    finalTarget.click();
                } else {
                    window.scroll(0, findPos(document.getElementById("thirteenth-slide")));
                }
            })
        });

    } catch (e) {
        console.log(e);
    }

    let searchTarget = document.getElementById('search-domen');
    try{
        searchTarget.addEventListener('click', () => {
            window.location = 'https://moj.manahost.rs/cart.php?a=add&domain=register';
        });
    }catch(e){
        console.log(e);
    }

});


function initScroll (){
    try {
        let isNotMobile = window.screen.width > 1 ? true : false;
        let selector = document.getElementById('main');

        if (isNotMobile) {
            let getHtml = document.getElementsByTagName('html')[0];
            getHtml.setAttribute('class', 'control-html');
            selector.setAttribute('class',"scroll-container");
            new fullScroll({
                mainElement: 'main',
                displayDots: true,
                dotsPosition: 'left',
                animateTime: 0.7,
                animateFunction: 'ease'
            });
        }else{
            selector.classList.remove("scroll-container");
            document.getElementsByTagName('body')[0].classList.add('control-scroll');
        }
    }catch (e){
        console.log(e);
        let selector = document.getElementById('main');
        selector.classList.remove("scroll-container");
        document.getElementsByTagName('body')[0].classList.add('control-scroll');
    }
}

function findPos(obj) {
    var curtop = 0;
    if (obj.offsetParent) {
        do {
            curtop += obj.offsetTop;
        } while (obj = obj.offsetParent);
        return [curtop];
    }
}




