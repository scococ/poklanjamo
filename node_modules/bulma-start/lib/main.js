'use strict';

var _aos = require('aos');

var _aos2 = _interopRequireDefault(_aos);

require('aos/dist/aos.css');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

document.addEventListener('DOMContentLoaded', function () {
    try {
        var isHash = window.location.hash ? window.location.hash : false;
        console.log(isHash, 'this is hasshhh');
        if (isHash) {
            history.replaceState(null, null, ' ');
        }
    } catch (e) {
        console.log(e);
    }
    initScroll();

    var findMore = document.getElementById('scroll-to-next');
    try {
        findMore.addEventListener('click', function () {

            var isNotMobile = window.screen.width > 767 ? true : false;
            if (isNotMobile) {
                var selector = document.getElementsByClassName('dots-left')[0];
                var targetSlide = selector.getElementsByTagName('LI')[1];
                var finalTarget = targetSlide.getElementsByTagName('a')[0];
                finalTarget.click();
            } else {
                window.scroll(0, findPos(document.getElementById("second-slide")));
            }
        });
    } catch (e) {}

    var scrollToForm = document.getElementsByClassName('js-target-last');
    try {
        [].concat(_toConsumableArray(document.querySelectorAll('.js-target-last'))).forEach(function (elem) {
            elem.addEventListener('click', function () {
                var isNotMobile = window.screen.width > 1 ? true : false;
                if (isNotMobile) {
                    var selector = document.getElementsByClassName('dots-left')[0];
                    var targetSlide = selector.getElementsByTagName('LI')[12];
                    var finalTarget = targetSlide.getElementsByTagName('a')[0];
                    finalTarget.click();
                } else {
                    window.scroll(0, findPos(document.getElementById("thirteenth-slide")));
                }
            });
        });
    } catch (e) {
        console.log(e);
    }

    var searchTarget = document.getElementById('search-domen');
    try {
        searchTarget.addEventListener('click', function () {
            window.location = 'https://moj.manahost.rs/cart.php?a=add&domain=register';
        });
    } catch (e) {
        console.log(e);
    }
});

function initScroll() {
    try {
        var isNotMobile = window.screen.width > 1 ? true : false;
        var selector = document.getElementById('main');

        if (isNotMobile) {
            var getHtml = document.getElementsByTagName('html')[0];
            getHtml.setAttribute('class', 'control-html');
            selector.setAttribute('class', "scroll-container");
            new fullScroll({
                mainElement: 'main',
                displayDots: true,
                dotsPosition: 'left',
                animateTime: 0.7,
                animateFunction: 'ease'
            });
        } else {
            selector.classList.remove("scroll-container");
            document.getElementsByTagName('body')[0].classList.add('control-scroll');
        }
    } catch (e) {
        console.log(e);
        var _selector = document.getElementById('main');
        _selector.classList.remove("scroll-container");
        document.getElementsByTagName('body')[0].classList.add('control-scroll');
    }
}

function findPos(obj) {
    var curtop = 0;
    if (obj.offsetParent) {
        do {
            curtop += obj.offsetTop;
        } while (obj = obj.offsetParent);
        return [curtop];
    }
}

// You can also use <link> for styles
// ..
_aos2.default.init();